<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>6.4</version>
    <template_groups>
        <template_group>
            <uuid>36bff6c29af64692839d077febfc7079</uuid>
            <name>Templates/Network devices</name>
        </template_group>
    </template_groups>
    <templates>
        <template>
            <uuid>9b39c05fea6243798cbfabb339cecbf0</uuid>
            <template>FritzBox UPNP</template>
            <name>FritzBox UPNP</name>
            <description>Retrieves informations from a AVM-FritzBox via UPNP</description>
            <groups>
                <group>
                    <name>Templates/Network devices</name>
                </group>
            </groups>
            <items>
                <item>
                    <uuid>d2f5d4e098cd4acf9c45b9a12f2f1da7</uuid>
                    <name>Manufacturer</name>
                    <type>DEPENDENT</type>
                    <key>fritz.manufacturer</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.root.device.manufacturer</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>fritzbox.systeminfo</key>
                    </master_item>
                </item>
                <item>
                    <uuid>22f21e68687241e08bdf9b950893d026</uuid>
                    <name>Model Name</name>
                    <type>DEPENDENT</type>
                    <key>fritz.modelname</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.root.device.modelName</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>fritzbox.systeminfo</key>
                    </master_item>
                </item>
                <item>
                    <uuid>0a56aa8eb2374b0f8af56e4c28bb35c2</uuid>
                    <name>System Version</name>
                    <type>DEPENDENT</type>
                    <key>fritz.systemversion</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.root.systemVersion.Display</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>fritzbox.systeminfo</key>
                    </master_item>
                </item>
                <item>
                    <uuid>5eeead30628041a19815f473e1f3d626</uuid>
                    <name>Access type</name>
                    <type>DEPENDENT</type>
                    <key>fritz.upnp.accesstype</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.Envelope.Body.GetCommonLinkPropertiesResponse.NewWANAccessType</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>fritzbox.upnp.linkproperties</key>
                    </master_item>
                </item>
                <item>
                    <uuid>72655bad5a2a4aeba63e3e8dddd2d1a7</uuid>
                    <name>Last connection error</name>
                    <type>DEPENDENT</type>
                    <key>fritz.upnp.connectionerror</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.Envelope.Body.GetStatusInfoResponse.NewLastConnectionError</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>fritzbox.upnp.statusinfo</key>
                    </master_item>
                </item>
                <item>
                    <uuid>8a70c79eeb9e497b92bb4614fbbc644e</uuid>
                    <name>Connection status</name>
                    <type>DEPENDENT</type>
                    <key>fritz.upnp.connectionstatus</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.Envelope.Body.GetStatusInfoResponse.NewConnectionStatus</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>fritzbox.upnp.statusinfo</key>
                    </master_item>
                </item>
                <item>
                    <uuid>715c91e4a96944bbb28cbc1bc80b2d46</uuid>
                    <name>Connection type</name>
                    <type>DEPENDENT</type>
                    <key>fritz.upnp.connectiontype</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.Envelope.Body.GetConnectionTypeInfoResponse.NewConnectionType</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>fritzbox.upnp.connectiontypeinfo</key>
                    </master_item>
                </item>
                <item>
                    <uuid>5bfe846ac34c496a8e97d3b50187402d</uuid>
                    <name>Downstream max bit</name>
                    <type>DEPENDENT</type>
                    <key>fritz.upnp.downstreammaxbit</key>
                    <delay>0</delay>
                    <units>b</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.Envelope.Body.GetCommonLinkPropertiesResponse.NewLayer1DownstreamMaxBitRate</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>fritzbox.upnp.linkproperties</key>
                    </master_item>
                </item>
                <item>
                    <uuid>472eaac8e93e425ea68db0dea61ab5bc</uuid>
                    <name>Link status</name>
                    <type>DEPENDENT</type>
                    <key>fritz.upnp.linkstatus</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.Envelope.Body.GetCommonLinkPropertiesResponse.NewPhysicalLinkStatus</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>fritzbox.upnp.linkproperties</key>
                    </master_item>
                </item>
                <item>
                    <uuid>9cd56b644810479e9cc5de35d457edea</uuid>
                    <name>Upstream max bit</name>
                    <type>DEPENDENT</type>
                    <key>fritz.upnp.upstreammaxbit</key>
                    <delay>0</delay>
                    <units>b</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.Envelope.Body.GetCommonLinkPropertiesResponse.NewLayer1UpstreamMaxBitRate</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>fritzbox.upnp.linkproperties</key>
                    </master_item>
                </item>
                <item>
                    <uuid>e35696f0701349a0b279205322dc9b9c</uuid>
                    <name>Uptime</name>
                    <type>DEPENDENT</type>
                    <key>fritz.upnp.uptime</key>
                    <delay>0</delay>
                    <units>s</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.Envelope.Body.GetStatusInfoResponse.NewUptime</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>fritzbox.upnp.statusinfo</key>
                    </master_item>
                </item>
                <item>
                    <uuid>2a547c31e876414880861d11fcd24b49</uuid>
                    <name>Systeminfo</name>
                    <type>HTTP_AGENT</type>
                    <key>fritzbox.systeminfo</key>
                    <delay>1h</delay>
                    <history>0</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>XML_TO_JSON</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <url>http://{HOST.IP}:49000/tr64desc.xml</url>
                </item>
                <item>
                    <uuid>eacdac4f59d4454a9cf8f5a6e0db65b4</uuid>
                    <name>Connection type info</name>
                    <type>HTTP_AGENT</type>
                    <key>fritzbox.upnp.connectiontypeinfo</key>
                    <history>0</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <authtype>BASIC</authtype>
                    <username>{$FRITZ.USERNAME}</username>
                    <password>{$FRITZ.PASSWORD}</password>
                    <preprocessing>
                        <step>
                            <type>XML_TO_JSON</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <url>http://{HOST.IP}:49000/igdupnp/control/WANIPConn1</url>
                    <posts>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;s:Envelope s:encodingStyle=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot; xmlns:s=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;
    &lt;s:Body&gt;
        &lt;u:GetStatusInfo xmlns:u=&quot;urn:schemas-upnp-org:service:WANIPConnection:1&quot; /&gt;
    &lt;/s:Body&gt;
&lt;/s:Envelope&gt;</posts>
                    <post_type>XML</post_type>
                    <headers>
                        <header>
                            <name>SoapAction</name>
                            <value>urn:schemas-upnp-org:service:WANIPConnection:1#GetConnectionTypeInfo</value>
                        </header>
                        <header>
                            <name>Content-Type</name>
                            <value>text/xml</value>
                        </header>
                        <header>
                            <name>charset</name>
                            <value>utf-8</value>
                        </header>
                    </headers>
                    <request_method>POST</request_method>
                </item>
                <item>
                    <uuid>8aa884a62b5440438f63767f22c088ce</uuid>
                    <name>External IP-Address</name>
                    <type>HTTP_AGENT</type>
                    <key>fritzbox.upnp.externalip</key>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <authtype>BASIC</authtype>
                    <username>{$FRITZ.USERNAME}</username>
                    <password>{$FRITZ.PASSWORD}</password>
                    <preprocessing>
                        <step>
                            <type>XML_TO_JSON</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.Envelope.Body.GetExternalIPAddressResponse.NewExternalIPAddress</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <url>http://{HOST.IP}:49000/igdupnp/control/WANIPConn1</url>
                    <posts>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;s:Envelope s:encodingStyle=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot; xmlns:s=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;
    &lt;s:Body&gt;
        &lt;u:GetStatusInfo xmlns:u=&quot;urn:schemas-upnp-org:service:WANIPConnection:1&quot; /&gt;
    &lt;/s:Body&gt;
&lt;/s:Envelope&gt;</posts>
                    <post_type>XML</post_type>
                    <headers>
                        <header>
                            <name>SoapAction</name>
                            <value>urn:schemas-upnp-org:service:WANIPConnection:1#GetExternalIPAddress</value>
                        </header>
                        <header>
                            <name>Content-Type</name>
                            <value>text/xml</value>
                        </header>
                        <header>
                            <name>charset</name>
                            <value>utf-8</value>
                        </header>
                    </headers>
                    <request_method>POST</request_method>
                </item>
                <item>
                    <uuid>116b910e1cb74e519bc414f629dd43f1</uuid>
                    <name>Link properties</name>
                    <type>HTTP_AGENT</type>
                    <key>fritzbox.upnp.linkproperties</key>
                    <history>0</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <authtype>BASIC</authtype>
                    <username>{$FRITZ.USERNAME}</username>
                    <password>{$FRITZ.PASSWORD}</password>
                    <preprocessing>
                        <step>
                            <type>XML_TO_JSON</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <url>http://{HOST.IP}:49000/igdupnp/control/WANCommonIFC1</url>
                    <posts>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;s:Envelope s:encodingStyle=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot; xmlns:s=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;
    &lt;s:Body&gt;
        &lt;u:GetCommonLinkProperties xmlns:u=&quot;urn:schemas-upnp-org:service:WANCommonInterfaceConfig:1&quot; /&gt;
    &lt;/s:Body&gt;
&lt;/s:Envelope&gt;</posts>
                    <post_type>XML</post_type>
                    <headers>
                        <header>
                            <name>SoapAction</name>
                            <value>urn:schemas-upnp-org:service:WANCommonInterfaceConfig:1#GetCommonLinkProperties</value>
                        </header>
                        <header>
                            <name>Content-Type</name>
                            <value>text/xml</value>
                        </header>
                        <header>
                            <name>charset</name>
                            <value>utf-8</value>
                        </header>
                    </headers>
                    <request_method>POST</request_method>
                </item>
                <item>
                    <uuid>2a39c9af6dc043728704bab94f7741ee</uuid>
                    <name>Status Info</name>
                    <type>HTTP_AGENT</type>
                    <key>fritzbox.upnp.statusinfo</key>
                    <history>0</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <authtype>BASIC</authtype>
                    <username>{$FRITZ.USERNAME}</username>
                    <password>{$FRITZ.PASSWORD}</password>
                    <preprocessing>
                        <step>
                            <type>XML_TO_JSON</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <url>http://{HOST.IP}:49000/igdupnp/control/WANIPConn1</url>
                    <posts>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;s:Envelope s:encodingStyle=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot; xmlns:s=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;
    &lt;s:Body&gt;
        &lt;u:GetStatusInfo xmlns:u=&quot;urn:schemas-upnp-org:service:WANIPConnection:1&quot; /&gt;
    &lt;/s:Body&gt;
&lt;/s:Envelope&gt;</posts>
                    <post_type>XML</post_type>
                    <headers>
                        <header>
                            <name>SoapAction</name>
                            <value>urn:schemas-upnp-org:service:WANIPConnection:1#GetStatusInfo</value>
                        </header>
                        <header>
                            <name>Content-Type</name>
                            <value>text/xml</value>
                        </header>
                        <header>
                            <name>charset</name>
                            <value>utf-8</value>
                        </header>
                    </headers>
                    <request_method>POST</request_method>
                </item>
                <item>
                    <uuid>3ac92308dee8454eb20ca1478d501b3c</uuid>
                    <name>Total bytes received</name>
                    <type>HTTP_AGENT</type>
                    <key>fritzbox.upnp.totalbytesreceived</key>
                    <units>B</units>
                    <authtype>BASIC</authtype>
                    <username>{$FRITZ.USERNAME}</username>
                    <password>{$FRITZ.PASSWORD}</password>
                    <preprocessing>
                        <step>
                            <type>XML_TO_JSON</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.Envelope.Body.GetTotalBytesReceivedResponse.NewTotalBytesReceived</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <url>http://{HOST.IP}:49000/igdupnp/control/WANCommonIFC1</url>
                    <posts>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;s:Envelope s:encodingStyle=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot; xmlns:s=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;
    &lt;s:Body&gt;
        &lt;u:GetTotalBytesReceived xmlns:u=&quot;urn:schemas-upnp-org:service:WANCommonInterfaceConfig:1&quot; /&gt;
    &lt;/s:Body&gt;
&lt;/s:Envelope&gt;</posts>
                    <post_type>XML</post_type>
                    <headers>
                        <header>
                            <name>SoapAction</name>
                            <value>urn:schemas-upnp-org:service:WANCommonInterfaceConfig:1#GetTotalBytesReceived</value>
                        </header>
                        <header>
                            <name>Content-Type</name>
                            <value>text/xml</value>
                        </header>
                        <header>
                            <name>charset</name>
                            <value>utf-8</value>
                        </header>
                    </headers>
                    <request_method>POST</request_method>
                </item>
                <item>
                    <uuid>78763880312f45dcac95991be2fa258c</uuid>
                    <name>Total bytes sent</name>
                    <type>HTTP_AGENT</type>
                    <key>fritzbox.upnp.totalbytessent</key>
                    <units>B</units>
                    <authtype>BASIC</authtype>
                    <username>{$FRITZ.USERNAME}</username>
                    <password>{$FRITZ.PASSWORD}</password>
                    <preprocessing>
                        <step>
                            <type>XML_TO_JSON</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.Envelope.Body.GetTotalBytesSentResponse.NewTotalBytesSent</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <url>http://{HOST.IP}:49000/igdupnp/control/WANCommonIFC1</url>
                    <posts>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;s:Envelope s:encodingStyle=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot; xmlns:s=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;
    &lt;s:Body&gt;
        &lt;u:GetTotalBytesSent xmlns:u=&quot;urn:schemas-upnp-org:service:WANCommonInterfaceConfig:1&quot; /&gt;
    &lt;/s:Body&gt;
&lt;/s:Envelope&gt;</posts>
                    <post_type>XML</post_type>
                    <headers>
                        <header>
                            <name>SoapAction</name>
                            <value>urn:schemas-upnp-org:service:WANCommonInterfaceConfig:1#GetTotalBytesSent</value>
                        </header>
                        <header>
                            <name>Content-Type</name>
                            <value>text/xml</value>
                        </header>
                        <header>
                            <name>charset</name>
                            <value>utf-8</value>
                        </header>
                    </headers>
                    <request_method>POST</request_method>
                </item>
            </items>
            <macros>
                <macro>
                    <macro>{$FRITZ.PASSWORD}</macro>
                    <type>SECRET_TEXT</type>
                    <description>Password in FritzBox!</description>
                </macro>
                <macro>
                    <macro>{$FRITZ.USERNAME}</macro>
                    <description>Username in FritzBox!</description>
                </macro>
            </macros>
        </template>
    </templates>
</zabbix_export>
